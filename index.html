<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Le Shrubbery</title>
  <meta name="description" content="Des jeux, des bières, et un jardinet.">
  <meta name="author" content="Virgil Roger">
  <link rel="apple-touch-icon" sizes="180x180" href="./splash/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./splash/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./splash/favicon-16x16.png">
  <link rel="manifest" href="./splash/manifest.json">
  <link rel="mask-icon" href="./splash/safari-pinned-tab.svg" color="#387c28">
  <meta name="theme-color" content="#ffffff">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
  <style>
    *, *:before, *:after {
      box-sizing: border-box;
      font-family: 'Roboto', sans-serif;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
    }

    .header__logo {
      position: absolute;
      left: 50px;
      top: 15vh;
      height: 50vh;
    }

    main {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    .teaser {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 100%;
      padding: 15px 40px;
      background: url('./splash/wooden_bg--1920x.jpg');
      background-position: right;
      background-size: cover;
      background-repeat: no-repeat;
    }

    .teaser:after {
      content: '';
      position: absolute;
      right: 380px;
      top: 0;
      width: 120px;
      height: 100%;
      background: linear-gradient(to right, transparent, rgba(255,255,255, 0.6));
    }

    .teaser__logo {
      position: absolute;
      left: calc(50px + 15vh);
      top: 30vh;
      width: 50vw;
    }

    .teaser__text {
      font-weight: 400;
      font-size: 28pt;
      position: absolute;
      bottom: 25vh;
      left: 22vh;
    }

    .teaser__text a {
      display: inline-block;
      text-decoration: none;
      color: #387c28;
      font-weight: bold;
      height: 60px;
      padding: 10px 25px 10px 5px;
      padding-top: 0px;
      border-bottom: 10px solid rgba(56, 124, 40, 1);
      transition: all 80ms cubic-bezier(0.215, 0.610, 0.355, 1.000);
    }

    .teaser__text a:hover,
    .teaser__text a:focus {
      color: white;
      cursor: pointer;
      padding-bottom: 0;
      border-bottom: 60px solid rgba(56, 124, 40, 1);
    }

    .teaser__map {
      visibility: hidden;
      height: 100%;
      width: 100%;
      box-shadow: 0 0 0 100px rgba(0, 0, 0, 0.4);
    }

    .social {
      position: absolute;
      right: 0;
      top: 0;
      padding: 15px 40px;
      height: 100%;
      width: 380px;
      background: rgba(255,255,255, 0.6);
    }

    .social ul {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      list-style-type: none;
    }

    .social ul li {
      widows: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .social__links--fb iframe {
      max-height: 100%;
      max-width: 100%;
    }

    h1, h2, p {
      font-weight: bolder;
    }

    h1 {
      font-size: 48pt;
    }

    h2 {
      font-size: 32pt;
    }

    p {
      font-size: 14pt;
    }
  </style>
</head>

<body>
  <header>
    <img class="header__logo" src="./splash/logo_icon_shrubbery.svg" alt="Le Shrubbery" />
    <!-- <h1>
      Le Srubbery
    </h1>
    <h2>
      Des jeux, des bières et un jardinet.
    </h2> -->
  </header>
  <main>
    <section class="teaser">
      <img class="teaser__logo" src="./splash/logo_text_shrubbery.svg" alt="Le Shrubbery" />
      <p class="teaser__text">
        Bientôt dans votre navigateur, <a href="#juste-ici" title="Le Shrubbery à Villeurbanne" onclick="displayMap()">déjà dans votre ville.</a>
      </p>
      <div id="map" class="teaser__map"></div>
    </section>
    <section class="social">
      <ul class="social__links">
        <li class="social__links--fb">
          <iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fpg%2FLeShrubbery%2F&tabs=timeline&width=300&height=950&small_header=false&adapt_container_width=true&hide_cover=true&show_facepile=true&appId=424241664262310" width="300" height="950" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
        </li>
      </ul>
    </section>
  </main>
  <script>
      var map;
      var shrubbery = {lat: 45.769069, lng: 4.865986};
      var styles = [
        {
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#ebe3cd"
            }
          ]
        },
        {
          "elementType": "labels.text",
          "stylers": [
            {
              "weight": 8
            }
          ]
        },
        {
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#0a7e13"
            }
          ]
        },
        {
          "elementType": "labels.text.stroke",
          "stylers": [
            {
              "color": "#ffffff"
            },
            {
              "weight": 2.5
            }
          ]
        },
        {
          "featureType": "administrative",
          "elementType": "geometry.stroke",
          "stylers": [
            {
              "color": "#c9b2a6"
            }
          ]
        },
        {
          "featureType": "administrative.land_parcel",
          "elementType": "geometry.stroke",
          "stylers": [
            {
              "color": "#dcd2be"
            }
          ]
        },
        {
          "featureType": "administrative.land_parcel",
          "elementType": "labels",
          "stylers": [
            {
              "visibility": "off"
            }
          ]
        },
        {
          "featureType": "administrative.land_parcel",
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#ae9e90"
            }
          ]
        },
        {
          "featureType": "landscape.man_made",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#ebe6d4"
            }
          ]
        },
        {
          "featureType": "landscape.natural",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#387c28"
            }
          ]
        },
        {
          "featureType": "poi",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#dfd2ae"
            }
          ]
        },
        {
          "featureType": "poi",
          "elementType": "labels.text",
          "stylers": [
            {
              "visibility": "off"
            }
          ]
        },
        {
          "featureType": "poi",
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#93817c"
            }
          ]
        },
        {
          "featureType": "poi.business",
          "stylers": [
            {
              "visibility": "off"
            }
          ]
        },
        {
          "featureType": "poi.park",
          "elementType": "geometry.fill",
          "stylers": [
            {
              "color": "#a5b076"
            }
          ]
        },
        {
          "featureType": "poi.park",
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#447530"
            }
          ]
        },
        {
          "featureType": "road",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#f5f1e6"
            }
          ]
        },
        {
          "featureType": "road",
          "elementType": "labels.icon",
          "stylers": [
            {
              "visibility": "off"
            }
          ]
        },
        {
          "featureType": "road.arterial",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#fdfcf8"
            }
          ]
        },
        {
          "featureType": "road.highway",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#f8c967"
            }
          ]
        },
        {
          "featureType": "road.highway",
          "elementType": "geometry.stroke",
          "stylers": [
            {
              "color": "#e9bc62"
            }
          ]
        },
        {
          "featureType": "road.highway.controlled_access",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#e98d58"
            }
          ]
        },
        {
          "featureType": "road.highway.controlled_access",
          "elementType": "geometry.stroke",
          "stylers": [
            {
              "color": "#db8555"
            }
          ]
        },
        {
          "featureType": "road.local",
          "elementType": "labels",
          "stylers": [
            {
              "visibility": "off"
            }
          ]
        },
        {
          "featureType": "road.local",
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#806b63"
            }
          ]
        },
        {
          "featureType": "transit",
          "stylers": [
            {
              "visibility": "off"
            }
          ]
        },
        {
          "featureType": "transit.line",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#dfd2ae"
            }
          ]
        },
        {
          "featureType": "transit.line",
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#8f7d77"
            }
          ]
        },
        {
          "featureType": "transit.line",
          "elementType": "labels.text.stroke",
          "stylers": [
            {
              "color": "#ebe3cd"
            }
          ]
        },
        {
          "featureType": "transit.station",
          "elementType": "geometry",
          "stylers": [
            {
              "color": "#dfd2ae"
            }
          ]
        },
        {
          "featureType": "water",
          "elementType": "geometry.fill",
          "stylers": [
            {
              "color": "#9dd5d3"
            }
          ]
        },
        {
          "featureType": "water",
          "elementType": "labels.text.fill",
          "stylers": [
            {
              "color": "#92998d"
            }
          ]
        }
      ];

      function hideMap(event) {
        console.log(event)
        if (event.target.id !== 'map' && document.querySelector('#map').style.visibility === 'visible') {
          document.querySelector('#map').style.visibility = 'hidden';
          window.location.hash = '';
        }
      }

      function displayMap() {
        document.querySelector('#map').style.visibility = 'visible';
        var marker = new google.maps.Marker({
          position: shrubbery,
          map: map,
          title: 'Here be Games & Beer',
          animation: google.maps.Animation.DROP,
          icon: './splash/logo_icon_shrubbery_marker.svg'
        });
      }

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: shrubbery,
          styles: styles,
        });
      }

      (window.onload = function() {
        document.querySelector('.teaser').addEventListener('click', hideMap, true);
      });
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA4rKhieiSCAYasqDVxyAzwpLGS5caexfg&callback=initMap">
    </script>
</body>
</html>